<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Material Design for a form</title>
  <!-- MDL -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <!-- <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css"> -->
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue_grey-deep_purple.min.css">
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

  <style>
    label {
      margin-bottom: 0;
    }
    .mdl-textfield {
      width: 100%;
    }
    .mdl-textfield__expandable-holder {
      width: calc(100% - 32px);
      max-width: calc(100% - 32px);
    }
    .header {
      background-color: #191919;
      background-image: url('./leather.jpg');
      background-size: contain;
      min-height: 184px;
    }
    #dob::placeholder,
    #address::placeholder {
      color: #bdbdbd;
    }
    .title {
      border-bottom: 1px solid rgba(0, 0, 0, 0.12);
      padding: 30px 0 17px;
    }
    .logo-container,
    .form {
      max-width: 575px;
      margin: auto;
    }
    .form {
      background: #fff;
      box-shadow: 0px 1px 3px 0px rgba(173, 173, 173, 0.75);
      padding-bottom: 30px;
      position: relative;
      top: -80px;
    }
    .logo-container img {
      max-width: 80px;
      margin-top: 10px;
    }
    .section-title {
      margin-top: 40px;
    }
    .section-title h4 {
      border-bottom: 1px solid #e0e0e0;
      padding-bottom: 5px;
    }
  </style>

</head>
<body>
  <header class="header">
    <div class="logo-container">
      <img src="bj.png" alt="">
    </div>
  </header>
  <div class="form">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h2 class="title">Request a sample here - LOVE beauty AND planet</h2>
          <div class="text-muted">We have one goal - To make you more beautiful and give a little love to our planet. We want to help make a little difference with every shower towards a happier, less wasteful planet. Our approach is a holistic one, encompassing the entire product life cycle and beyond: we’ve given careful thought to our ingredients, product packaging, and social partnerships. We call it our passionate journey of #smallactsoflove, and we’re just getting started.</div>
        </div>

        <div class="col-md-12 section-title">
          <h4>Personal Details</h4>
        </div>

        <div class="col-md-6">
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" id="name">
            <label class="mdl-textfield__label" for="name">Enter your first name <span>*</span></label>
          </div>
        </div>

        <div class="col-md-6">
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" id="lname">
            <label class="mdl-textfield__label" for="lname">Enter your last name</label>
          </div>
        </div>

        <div class="col-md-12">
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
            <label class="mdl-button mdl-js-button mdl-button--icon" for="dob">
              <i class="material-icons">date_range</i>
            </label>
            <div class="mdl-textfield__expandable-holder">
              <input class="mdl-textfield__input" type="text" id="dob" readonly="readonly" placeholder="Date of birth (mm/dd/yyyy)">
              <label class="mdl-textfield__label" for="dob">Expandable Input</label>
            </div>
          </div>
        </div>

        <div class="col-md-12">
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" id="bj_membership_number" />
            <label class="mdl-textfield__label" for="bj_membership_number">Enter BJ's Membership Number <span>*</span></label>
            <span class="mdl-textfield__error">11 digits e.g. 123XXXXXXX, 444XXXXXXX, 555XXXXXXX</span>
          </div>
        </div>

        <div class="col-md-12">
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="email" id="email">
            <label class="mdl-textfield__label" for="email">Enter your email address <span>*</span></label>
          </div>
        </div>

        <div class="col-md-12 section-title">
          <h4>Contact Details</h4>
        </div>


        <div class="col-md-12">
          <div class="mdl-textfield mdl-js-textfield">
            <input class="mdl-textfield__input" type="text" id="address" placeholder="Search your mailing address here...">
          </div>
        </div>
        <div class="col-md-12">
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" id="street_number">
            <label class="mdl-textfield__label" for="street_number">Street Address 1</label>
          </div>
        </div>
        <div class="col-md-12">
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" id="route">
            <label class="mdl-textfield__label" for="Route">Street Address 2</label>
          </div>
        </div>
        <div class="col-md-12">
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" id="locality">
            <label class="mdl-textfield__label" for="locality">City</label>
          </div>
        </div>
        <div class="col-md-12">
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" id="administrative_area_level_1">
            <label class="mdl-textfield__label" for="administrative_area_level_1">State</label>
          </div>
        </div>
        <div class="col-md-12">
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" id="postal_code">
            <label class="mdl-textfield__label" for="postal_code">Postal Code</label>
          </div>
        </div>
        <div class="col-md-12">
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" id="country">
            <label class="mdl-textfield__label" for="country">Country</label>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 text-right">
          <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" id="submit">Submit</button>
        </div>
      </div>
    </div>
  </div>

  <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <!-- Datepicker -->
  <script src="calendar.js"></script>
  <!-- Bootstrap -->
<!--   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
 -->
  <!-- Google map scripts -->
  <script>
    var placeSearch, autocomplete;
    var componentForm = {
      street_number: 'long_name',
      route: 'long_name',
      locality: 'long_name',
      administrative_area_level_1: 'long_name',
      country: 'long_name',
      postal_code: 'long_name'
    };

    function fillInAddress() {
      var place = autocomplete.getPlace();
      for (var component in componentForm) {
        document.getElementById(component).value = '';
        document.getElementById(component).disabled = false;
      }

      for (var i = 0; i < place.address_components.length; i++) {
        var addressType = place.address_components[i].types[0];
        if (componentForm[addressType]) {
          var val = place.address_components[i][componentForm[addressType]];
          document.getElementById(addressType).value = val;
        }
      }
      for(var i =0; i < document.querySelectorAll('.mdl-textfield').length; i++) {
        document.querySelectorAll('.mdl-textfield')[i].MaterialTextfield.checkDirty();
      }
      var route_temp = $("#route").val();
      var street_number_temp = $("#street_number").val();
      $("#street_number").val(street_number_temp + ', '+ route_temp);
      $("#route").val('');
    }

    function myMap() {
      autocomplete = new google.maps.places.Autocomplete((document.getElementById('address')),{types: ['geocode']});
      autocomplete.addListener('place_changed', fillInAddress);
    }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAi-mKONX-DVRyQKGxcPMyRkZJzrYBXM_o&libraries=places&callback=myMap"></script>

  <!-- DOM manipulation -->
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script>
    function addInvalidClass(id) {
      $("#"+id).parent('.mdl-textfield').addClass('is-invalid');
      return false;
    }

    function isValidEmail(value) {
      return (value.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/) !== null);
    }

    function checkValidityForNull(id) {
      if($('#'+id).val() === '') {
        addInvalidClass(id);
        return false;
      }
      return true;
    }

    function checkValidityForEmail(id) {
      var isNotNull = checkValidityForNull(id);
      var isAValidEmail = isValidEmail($('#'+id).val());
      if(!isAValidEmail)
        addInvalidClass(id);

      return isNotNull && isAValidEmail;
    }

    function checkValidityForMembership(id) {
      var isNotNull = checkValidityForNull(id);
      if(isNotNull) {
        if($("#"+id).val().match(/(123|444|555)[0-9]{8}/) === null) {
          addInvalidClass(id);
          return false;
        } else {
          return true;
        }
      }
      return false;
    }

    $("#submit").on('click', function() {
      var isNameFieldValid = checkValidityForNull('name');
      var isEmailFieldValid = checkValidityForEmail('email');
      var isMembershipValid = checkValidityForMembership('bj_membership_number');

      if(isNameFieldValid && isEmailFieldValid && isMembershipValid) {
        alert("Thank you for the response. Your sample would be sent your address");
      } else {
        console.log("Fill the form to submit");
      }
    });
    $( function() {
      $( "#dob" ).datepicker();
    });
  </script>
</body>
</html>